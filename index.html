<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SecureText</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <style>
    /* keep your ADMIN PATH button */
    .admin-path-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      padding: 6px 14px;
      background-color: #111;
      color: white;
      border: 1px solid #333;
      font-size: 13px;
      cursor: pointer;
      transition: 0.2s;
    }
    .admin-path-btn:hover { background-color: #222; }

    /* screens */
    .screen { display:none; }
    .screen.active { display:block; }
    #root { position:relative; max-width:900px; margin:0 auto; padding:20px; }
    .classes-wrap button { display:block; margin:10px 0; }
    .notice { margin-top:10px; }
    .notice.good { color:#7CFF7C; }
    .notice.bad { color:#FF6B6B; }
    .notice.warn { color:#FFD36B; }
  </style>
</head>

<body>
  <div id="root">

    <button class="admin-path-btn"
      onclick="window.location.href='https://donidonka.github.io/SecureText/admin.html'">
      ADMIN PATH
    </button>

    <!-- CLASS SELECT -->
    <div id="screen-class" class="screen active">
      <h1>SecureText</h1>
      <p>Select your class:</p>
      <div id="classes" class="classes-wrap"></div>
      <p id="classError" class="notice bad"></p>
    </div>

    <!-- PIN -->
    <div id="screen-pin" class="screen">
      <h1>SecureText</h1>
      <p>Enter PIN for: <strong id="pinClassName"></strong></p>
      <input id="pinInput" type="password" placeholder="Class PIN" />
      <button id="pinContinueBtn">Continue</button>
      <p id="pinError" class="notice bad"></p>
      <button id="pinBackBtn">Back</button>
    </div>

    <!-- NAME -->
    <div id="screen-name" class="screen">
      <h1>SecureText</h1>
      <p>Enter your name:</p>
      <input id="nameInput" type="text" placeholder="Your name" />
      <button id="nameContinueBtn">Continue</button>
      <p id="nameError" class="notice bad"></p>
      <button id="nameBackBtn">Back</button>
    </div>

    <!-- WAITING -->
    <div id="screen-wait" class="screen">
      <h1>SecureText</h1>
      <p id="waitText"></p>
      <p>Please wait for admin approval.</p>
      <p id="waitStatus" class="notice"></p>
      <button id="resetBtn">Start over</button>
    </div>

    <!-- CHAT -->
    <div id="screen-chat" class="screen">
      <div id="chat-screen" class="night">
        <header class="chat-header">
          <div>
            <h1 id="chatWelcome">Welcome!</h1>
            <p class="subtitle" id="chatSubtitle">SecureText chat</p>
          </div>
          <div class="chat-controls">
            <button id="themeToggle">ðŸŒ™</button>
            <button id="logoutBtn">Logout</button>
          </div>
        </header>

        <div id="announcementsBox" style="padding:10px; border:1px solid #333; margin:10px 0;">
          <strong>Announcements</strong>
          <div id="announcementsList" style="margin-top:8px;"></div>
        </div>

        <div id="messages" class="messages"></div>

        <div id="typingIndicator" style="font-style: italic; margin: 6px 0;"></div>

        <div id="replies-panel" class="replies hidden">
          <div class="replies-header">
            <span id="replies-title">Replies</span>
            <button id="closeReplies">Close</button>
          </div>
          <div id="replies-list" class="replies-list"></div>
          <div class="reply-input">
            <input id="replyMsgInput" type="text" placeholder="Reply...">
            <button id="sendReplyBtn">Send</button>
          </div>
        </div>

        <div id="chat-input">
          <input id="msgInput" type="text" placeholder="Type a message">
          <button id="sendBtn">Send</button>
        </div>

        <p id="chatStatus" class="notice"></p>
      </div>
    </div>

  </div>

  <script src="firebase.js"></script>
  <script src="app.js"></script>
</body>
</html>
